<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RUN, GANIS, RUN!</title>
  <link rel="stylesheet" href="css/shared.css">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Work+Sans:wght@400;600;900&display=swap" rel="stylesheet">
  <style>
    /* 
     * THIS WEEK
     * Inspired by Herbert Bayer's Universal Alphabet (1925)
     * Geometric forms, primary colors, radical simplicity
     */
    
    body {
      font-family: 'Work Sans', sans-serif;
      background: var(--cream);
      min-height: 100vh;
    }
    
    .poster {
      min-height: calc(100vh - 60px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 24px;
      position: relative;
      overflow: hidden;
    }
    
    /* Bauhaus geometric shapes */
    .shape-circle {
      position: absolute;
      width: 400px;
      height: 400px;
      background: var(--red);
      border-radius: 50%;
      top: -150px;
      right: -150px;
      z-index: 0;
    }
    
    .shape-square {
      position: absolute;
      width: 200px;
      height: 200px;
      background: var(--blue);
      bottom: 100px;
      left: -80px;
      z-index: 0;
    }
    
    .shape-triangle {
      position: absolute;
      width: 0;
      height: 0;
      border-left: 100px solid transparent;
      border-right: 100px solid transparent;
      border-bottom: 173px solid var(--yellow);
      bottom: -50px;
      right: 15%;
      z-index: 0;
    }
    
    /* Content */
    .content {
      position: relative;
      z-index: 1;
      text-align: center;
      max-width: 800px;
    }
    
    .section-label {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1rem;
      letter-spacing: 0.3em;
      color: var(--black);
      opacity: 0.5;
      margin-bottom: 8px;
    }
    
    .section-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(2rem, 5vw, 3rem);
      letter-spacing: 0.1em;
      color: var(--black);
      margin-bottom: 40px;
      line-height: 1.2;
    }
    
    .section-title em {
      font-style: normal;
      display: block;
      font-size: 0.6em;
      opacity: 0.6;
      font-family: 'Work Sans', sans-serif;
      font-weight: 400;
      letter-spacing: 0;
    }
    
    /* The big number */
    .hero-number {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(12rem, 30vw, 20rem);
      line-height: 0.8;
      color: var(--black);
      position: relative;
    }
    
    .hero-number::after {
      content: '/3';
      font-size: 0.3em;
      position: absolute;
      bottom: 0.2em;
      margin-left: 0.1em;
      opacity: 0.4;
    }
    
    .hero-label {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      letter-spacing: 0.2em;
      color: var(--black);
      margin-top: -20px;
    }
    
    /* Goal circles */
    .goal-circles {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin: 48px 0;
    }
    
    .goal-circle {
      width: 60px;
      height: 60px;
      border: 4px solid var(--black);
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    
    .goal-circle.filled {
      background: var(--yellow);
      transform: scale(1.1);
    }
    
    /* Stats row */
    .stats-row {
      display: flex;
      justify-content: center;
      gap: 60px;
      margin-top: 48px;
    }
    
    .stat {
      text-align: center;
    }
    
    .stat-value {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 3rem;
      color: var(--black);
      line-height: 1;
    }
    
    .stat-value.positive { color: var(--blue); }
    .stat-value.negative { color: var(--red); }
    
    .stat-label {
      font-size: 0.75rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--black);
      opacity: 0.6;
      margin-top: 8px;
    }
    
    /* Last run card */
    .last-run {
      background: var(--black);
      color: var(--white);
      padding: 32px 48px;
      margin-top: 60px;
      display: flex;
      gap: 48px;
      align-items: center;
    }
    
    .last-run-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.875rem;
      letter-spacing: 0.2em;
      color: var(--yellow);
    }
    
    .last-run-stat {
      text-align: center;
    }
    
    .last-run-value {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 2rem;
      color: var(--white);
    }
    
    .last-run-label {
      font-size: 0.625rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.5);
    }
    
    @media (max-width: 768px) {
      .stats-row { flex-direction: column; gap: 24px; }
      .last-run { flex-direction: column; gap: 24px; padding: 24px; }
      .shape-circle { width: 200px; height: 200px; top: -80px; right: -80px; }
      .shape-square { width: 100px; height: 100px; }
    }
  </style>
</head>
<body>
  <nav class="nav">
    <a href="index.html" class="nav-brand">
      <div class="musang-container">
        <div class="musang-body">ü¶ù</div>
        <div class="dust"></div>
        <div class="dust"></div>
        <div class="dust"></div>
      </div>
      <span class="nav-title">RUN, GANIS, RUN!</span>
    </a>
    <div class="nav-links">
      <a href="index.html" class="nav-link active">THIS WEEK</a>
      <a href="year.html" class="nav-link">THIS YEAR</a>
      <a href="alltime.html" class="nav-link">ALL TIME</a>
    </div>
  </nav>

  <main class="poster">
    <div class="shape-circle"></div>
    <div class="shape-square"></div>
    <div class="shape-triangle"></div>
    
    <div class="content">
      <div class="section-label">WEEKLY REPORT</div>
      <h1 class="section-title">
        THIS WEEK
        <em>Did you run? Let's see. No judgment. (Okay, maybe a little.)</em>
      </h1>
      
      <div class="hero-number" id="weekRuns">-</div>
      <div class="hero-label">RUNS</div>
      
      <div class="goal-circles" id="goalCircles"></div>
      
      <div class="stats-row">
        <div class="stat">
          <div class="stat-value" id="weekDistance">-</div>
          <div class="stat-label">KM This Week</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="vsLastWeek">-</div>
          <div class="stat-label">vs Last Week</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="streak">-</div>
          <div class="stat-label">Day Streak</div>
        </div>
      </div>
      
      <div class="last-run">
        <div class="last-run-title">LAST RUN</div>
        <div class="last-run-stat">
          <div class="last-run-value" id="lastDate">-</div>
          <div class="last-run-label">Date</div>
        </div>
        <div class="last-run-stat">
          <div class="last-run-value" id="lastDistance">-</div>
          <div class="last-run-label">Distance</div>
        </div>
        <div class="last-run-stat">
          <div class="last-run-value" id="lastPace">-</div>
          <div class="last-run-label">Pace</div>
        </div>
      </div>
    </div>
  </main>

  <footer class="page-footer">
    <div class="tribute">
      <div class="tribute-title">TRIBUTE TO HERBERT BAYER</div>
      <p class="tribute-main">
        Inspired by <span class="tribute-designer">Herbert Bayer</span>'s 
        <span class="tribute-work">Universal Alphabet (1925)</span>. 
        Bayer believed in radical simplicity‚Äîonly lowercase letters, pure geometric forms, 
        and zero unnecessary ornament. His most famous work is the Universal typeface, 
        which stripped the alphabet down to circles, triangles, and lines.
      </p>
      <p class="tribute-funfact">
        Fun fact: Bayer designed the iconic Bauhaus logo and later became 
        the art director for Vogue magazine. He also lost vision in one eye, 
        which he said made him see design more clearly.
      </p>
      <div class="data-sync">Last synced: <span id="updatedAt">-</span></div>
    </div>
  </footer>

  <script>
    async function loadData() {
      try {
        const res = await fetch('data/stats.json');
        const d = await res.json();
        
        document.getElementById('weekRuns').textContent = d.this_week.runs;
        document.getElementById('weekDistance').textContent = d.this_week.distance_km + ' km';
        
        // Goal circles
        const circles = [1, 2, 3].map(i => 
          `<div class="goal-circle ${i <= d.this_week.runs ? 'filled' : ''}"></div>`
        ).join('');
        document.getElementById('goalCircles').innerHTML = circles;
        
        // vs Last week
        const diff = d.this_week.distance_km - d.last_week.distance_km;
        const vsEl = document.getElementById('vsLastWeek');
        vsEl.textContent = (diff >= 0 ? '+' : '') + diff.toFixed(1) + ' km';
        vsEl.className = 'stat-value ' + (diff >= 0 ? 'positive' : 'negative');
        
        document.getElementById('streak').textContent = d.streak || d.this_week.runs;
        
        if (d.lastRun) {
          document.getElementById('lastDate').textContent = d.lastRun.date;
          document.getElementById('lastDistance').textContent = d.lastRun.distance + ' km';
          document.getElementById('lastPace').textContent = d.lastRun.pace + '/km';
        }
        
        document.getElementById('updatedAt').textContent = new Date(d.updated_at).toLocaleString();
      } catch (e) {
        console.error('Error:', e);
      }
    }
    loadData();
  </script>
</body>
</html>
